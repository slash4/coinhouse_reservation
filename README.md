# README

* Ruby version

2.6.5

* Rails version

6.0.1

* Configuration & Database creation/initialization

`docker-compose run --rm web rails db:create`

`docker-compose run --rm web rails db:migrate`

`docker-compose run --rm web rails db:seed`

Seed contains minimal data to start the app. To create more random data, use rails console (see below) and type `FactoryBot.create :model_name`. 
For practical reasons, all users generated by FactoryBot will have `password` as encrypted password. 

* How to run the test suite

`docker-compose run --rm web rspec .`

* Services 

web server (access it on localhost:3000) : `docker-compose up web`

console (aka rails command line) : `docker-compose run --rm web rails c`

graphiql (embedded in the webserver. Access it on localhost:3000/graphiql)

worker (process async tasks via redis & sidekiq) : `docker-compose up worker`

postgres web admin (access it on localhost:8080) : `docker-compose up adminer`


To start every service available : `docker-compose up`

* GraphQL samples

You can find some working samples for GraphQL queries in samples.md
For authenticated queries, you should use Postman with an Authorization header. A valid token is given by using SignInMutation.

* What could be better

Not 100% satisfied of how I managed the authentication. Being new to graphql, I didn't know where you are supposed to interrupt
the request when it is not authenticated. I did it, but it's a little bit rough, and I don't see how to do it in a finest way
without duplicating code everywhere, so, it could be a great conversation subject for the review :)

Not satisfied either by my solution to schedule the notification mails. I explained why in a comment, in attendee.rb. 

* Final word

I tried to make this test in the cleanest way possible, having as much fun as possible. I tried to commit as much as I could 
so you can replay all the coding process if you need to. Hope you will enjoy it, and whatever happens, It's been a wonderful
experience to dig into graphql. Thanks for giving me this opportunity. Rgds. Alex



